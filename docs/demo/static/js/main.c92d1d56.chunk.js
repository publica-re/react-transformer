(this["webpackJsonpreact-processor-example"]=this["webpackJsonpreact-processor-example"]||[]).push([[0],{16:function(e,t,n){e.exports=n(24)},17:function(e,t,n){},24:function(e,t,n){"use strict";n.r(t);n(17);var r,a=n(0),o=n.n(a),c=n(14),s=n.n(c),i=n(6),u=n.n(i),l=n(15),p=n(1),d=n(2),h=n(4),m=n(3),f=n(13),b=n(11),O=n(5),v=n(8);function N(e){for(var t=[],n=e;null!==n;n=n.parentNode){var r=n,a=e.previousSibling,o=1;switch(n.nodeType){case Node.ELEMENT_NODE:if(r.hasAttribute("id")&&1===document.querySelectorAll("#".concat(r.getAttribute("id"))).length)return t.unshift('//id("'.concat(r.getAttribute("id"),'")')),t.join("/");for(var c=r.nodeName,s=r.previousSibling,i=1;null!==s;s=s.previousSibling)s.nodeName===c&&i++;t.unshift("*[local-name()='".concat(r.localName,"' and namespace-uri()='").concat(r.namespaceURI,"'][").concat(i,"]"));break;case Node.DOCUMENT_NODE:return"/".concat(t.join("/"));case Node.TEXT_NODE:for(;null!==a;a=a.previousSibling)a.nodeType===Node.TEXT_NODE&&o++;t.unshift("text()[".concat(o,"]"));break;case Node.PROCESSING_INSTRUCTION_NODE:case Node.COMMENT_NODE:case Node.DOCUMENT_TYPE_NODE:throw TypeError("react-xml-transformer: you shouldn't try to render the XPath of a comment node and/or a processing instruction.")}}return"/".concat(t.join("/"))}!function(e){e[e.Any=0]="Any",e[e.Number=1]="Number",e[e.String=2]="String",e[e.Boolean=3]="Boolean",e[e.UnorderedNodeIterator=4]="UnorderedNodeIterator",e[e.OrderedNodeIterator=5]="OrderedNodeIterator",e[e.UnorderedNodeList=6]="UnorderedNodeList",e[e.OrderedNodeList=7]="OrderedNodeList",e[e.AnyNode=8]="AnyNode",e[e.FirstNode=9]="FirstNode"}(r||(r={}));var x={ApplyTemplates:function(e){Object(h.a)(n,e);var t=Object(m.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"__processTemplate",value:function(e,t){var n=this.props.contextData.getTemplateByNode(e,this.props.mode);return null!==n?Object(a.createElement)(n,Object.assign({},Object(v.a)(Object(v.a)({},this.ctx),{},{contextNode:e}),{key:t})):this.props.contextData.notFoundTemplateNode(e)}},{key:"render",value:function(){var e=this;return this.props.contextData.xpath(this.props.select||"node()",this.props.contextNode,r.OrderedNodeList).map((function(t,n){return e.__processTemplate(t,n)}))}},{key:"ctx",get:function(){return{contextData:this.props.contextData,contextNode:this.props.contextNode,mode:this.props.mode}}}]),n}(a.Component),CallTemplate:function(e){Object(h.a)(n,e);var t=Object(m.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"render",value:function(){var e=this.props.contextData.getTemplateByName(this.props.name,this.props.mode);return null!==e?Object(a.createElement)(e,Object.assign({},this.ctx)):this.props.contextData.notFoundTemplateName(this.props.name)}},{key:"ctx",get:function(){return{contextData:this.props.contextData,contextNode:this.props.contextNode,mode:this.props.mode}}}]),n}(a.Component),ValueOf:function(e){Object(h.a)(n,e);var t=Object(m.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"render",value:function(){return this.props.contextData.xpath(this.props.select||"node()",this.props.contextNode,r.OrderedNodeList).map((function(e){return e.nodeValue})).join(this.props.separator||"")}}]),n}(a.Component),Template:function(e){Object(h.a)(n,e);var t=Object(m.a)(n);function n(e){var r;return Object(p.a)(this,n),(r=t.call(this,e)).__observer=null,r.onBeforeMutate=function(e){return e()},r.onAfterMutate=function(){return null},r.state={path:N(e.contextNode)},r.__onMutate=r.__onMutate.bind(Object(O.a)(r)),r.__setupObserver=r.__setupObserver.bind(Object(O.a)(r)),r.onBeforeMutate=r.onBeforeMutate.bind(Object(O.a)(r)),r.onAfterMutate=r.onAfterMutate.bind(Object(O.a)(r)),r}return Object(d.a)(n,[{key:"__setupObserver",value:function(){this.__observer=new MutationObserver(this.__onMutate),this.__observer.observe(this.props.contextNode,{subtree:!0,childList:!0,attributes:!0,characterData:!0})}},{key:"__onMutate",value:function(){var e=this;this.onBeforeMutate((function(){e.setState({path:N(e.props.contextNode)},(function(){return e.forceUpdate(e.onAfterMutate)}))}))}},{key:"componentDidMount",value:function(){this.__setupObserver()}},{key:"ctx",get:function(){return{contextData:this.props.contextData,contextNode:this.props.contextNode}}}]),n}(a.Component),Stylesheet:function(e){Object(h.a)(n,e);var t=Object(m.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"render",value:function(){return this.props.contextData.__render(this.props.contextDocument)}}]),n}(o.a.Component),If:function(e){Object(h.a)(n,e);var t=Object(m.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"render",value:function(){return!1!==this.props.contextData.xpath(this.props.test,this.props.contextNode,r.Boolean)&&this.props.children||null}}]),n}(a.Component),ForEach:function(e){Object(h.a)(n,e);var t=Object(m.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"render",value:function(){var e=this;return this.props.contextData.xpath(this.props.select||"node()",this.props.contextNode,r.OrderedNodeList).map((function(t){return e.props.do(Object(v.a)(Object(v.a)({},e.ctx),{},{contextNode:t}))}))}},{key:"ctx",get:function(){return{contextData:this.props.contextData,contextNode:this.props.contextNode,mode:this.props.mode}}}]),n}(a.Component),Choose:function(e){Object(h.a)(n,e);var t=Object(m.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"render",value:function(){var e,t=Object(b.a)(this.props.cases);try{for(t.s();!(e=t.n()).done;){var n=e.value;if(!1!==this.props.contextData.xpath(n.test,this.props.contextNode,r.Boolean))return n.node}}catch(a){t.e(a)}finally{t.f()}return this.props.otherwise}}]),n}(a.Component),Context:function(){function e(){Object(p.a)(this,e),this.__templates=[]}return Object(d.a)(e,[{key:"__nsResolver",value:function(e){return(e.ownerDocument||e).createNSResolver(e)}},{key:"sortedTemplate",value:function(){return this.__templates=this.__templates.sort((function(e,t){return void 0!==e.priority?void 0!==t.priority?e.priority-t.priority:1:void 0!==t.priority?-1:0})),this.__templates}},{key:"notFoundStyleSheet",value:function(){return o.a.createElement("span",{className:"react-transform-internal not-found"},"No stylesheet")}},{key:"notFoundTemplateName",value:function(e){return o.a.createElement("span",{className:"react-transform-internal not-found"},"Template ",e," not found")}},{key:"notFoundTemplateNode",value:function(e){return o.a.createElement("span",{className:"react-transform-internal not-found"},"No template found for ",e.nodeName)}},{key:"xpath",value:function(e,t,n){var a=t.ownerDocument||t;if(null===a&&n<XPathResult.UNORDERED_NODE_SNAPSHOT_TYPE)return null;if(null===a&&n>=XPathResult.UNORDERED_NODE_SNAPSHOT_TYPE)return[];var o=a.evaluate(e,t,this.__nsResolver(a.documentElement),n);switch(n){case r.Any:return o.booleanValue||o.numberValue||o.singleNodeValue||o.stringValue||Object(f.a)(Array(o.snapshotLength).keys()).map((function(e,t){return o.snapshotItem(t)})).filter((function(e){return null!==e}));case r.Number:return o.numberValue;case r.String:return o.stringValue;case r.Boolean:return o.booleanValue;case r.AnyNode:case r.FirstNode:return o.singleNodeValue;case r.UnorderedNodeIterator:case r.OrderedNodeIterator:return u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=null;case 1:if(!(t=o.iterateNext())){e.next=6;break}return e.next=4,t;case 4:e.next=1;break;case 6:case"end":return e.stop()}}),e)}))();case r.UnorderedNodeList:case r.OrderedNodeList:return Object(f.a)(Array(o.snapshotLength).keys()).map((function(e,t){return o.snapshotItem(t)})).filter((function(e){return null!==e}))}}},{key:"getTemplateByNode",value:function(e,t){var n,a=this.sortedTemplate().filter((function(e){return e.mode===t&&void 0!==e.path})),o=Object(b.a)(a);try{for(o.s();!(n=o.n()).done;){var c=n.value,s="".concat(c.path);if(this.xpath(s,e.parentNode||e,r.UnorderedNodeList).find((function(t){return Object.is(t,e)})))return c.template}}catch(i){o.e(i)}finally{o.f()}return null}},{key:"getTemplateByName",value:function(e,t){var n;return(null===(n=this.sortedTemplate().find((function(n){return n.name===e&&n.mode===t})))||void 0===n?void 0:n.template)||null}},{key:"register",value:function(e,t){this.__templates.push({template:e,path:t.path,name:t.name,mode:t.mode,priority:t.priority})}},{key:"__render",value:function(e){var t=this.getTemplateByNode(e);return null===t?this.notFoundStyleSheet():o.a.createElement(t,{contextData:this,contextNode:e})}}]),e}()},y=new x.Context,j=function(e){Object(h.a)(n,e);var t=Object(m.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"render",value:function(){return a.createElement("article",null,a.createElement(x.ApplyTemplates,Object.assign({},this.ctx,{select:"./p:root/p:title"})),a.createElement(x.ApplyTemplates,Object.assign({},this.ctx,{select:"./p:root/*[not(self::p:title)]"})),a.createElement("footer",null,"Here's a reference to the text of the title:"," ",a.createElement("span",{className:"dont-click",title:"No, not me, the title!"},a.createElement(x.ApplyTemplates,Object.assign({},this.ctx,{select:"./p:root/p:title/text()"})))))}}]),n}(x.Template);y.register(j,{path:"/"});var E=function(e){Object(h.a)(n,e);var t=Object(m.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"onClickHandler",value:function(){var e=this.props.contextNode;this.props.contextNode.hasAttribute("clicked")&&(e.textContent=this.props.contextNode.getAttribute("clicked"))}},{key:"render",value:function(){return a.createElement("h1",{onClick:this.onClickHandler.bind(this)},a.createElement(x.ApplyTemplates,this.ctx))}}]),n}(x.Template);y.register(E,{path:"p:title"});var _=function(e){Object(h.a)(n,e);var t=Object(m.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"render",value:function(){return a.createElement(x.If,Object.assign({},this.ctx,{test:"normalize-space()!=''"}),a.createElement("span",null,a.createElement(x.ValueOf,Object.assign({},this.ctx,{select:"."}))))}}]),n}(x.Template);y.register(_,{path:"text()"});var g=function(e){Object(h.a)(n,e);var t=Object(m.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"render",value:function(){return a.createElement("p",null,a.createElement(x.ApplyTemplates,this.ctx))}}]),n}(x.Template);y.register(g,{path:"p:para"});var k=n(12),T=n.n(k),D=function(e){Object(h.a)(n,e);var t=Object(m.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"render",value:function(){var e=a.createElement(x.Choose,Object.assign({},this.ctx,{cases:[{test:"./p:img/@alt",node:a.createElement(x.ValueOf,Object.assign({},this.ctx,{select:"./p:img/@alt"}))},{test:"./p:title",node:a.createElement(x.ValueOf,Object.assign({},this.ctx,{select:"./p:title/text()"}))}],otherwise:"no alternating text"}));return a.createElement("figure",null,a.createElement("img",{src:T.a.renderToString(a.createElement(x.ValueOf,Object.assign({},this.ctx,{select:"./p:img/@src"}))),alt:T.a.renderToString(e)}),a.createElement("h2",null,a.createElement(x.ApplyTemplates,Object.assign({},this.ctx,{select:"./p:title/text()"}))))}}]),n}(x.Template);y.register(D,{path:"p:figure"});var A=y,S=function(e){Object(h.a)(n,e);var t=Object(m.a)(n);function n(e){var r;return Object(p.a)(this,n),(r=t.call(this,e)).state={document:void 0},r}return Object(d.a)(n,[{key:"componentDidMount",value:function(){var e=Object(l.a)(u.a.mark((function e(){var t,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("demo.xml");case 2:return e.next=4,e.sent.text();case 4:t=e.sent,n=(new DOMParser).parseFromString(t,"text/xml"),this.setState({document:n});case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return void 0!==this.state.document?o.a.createElement("div",{className:"App"},o.a.createElement(x.Stylesheet,{contextData:A,contextDocument:this.state.document})):null}}]),n}(o.a.Component);s.a.render(o.a.createElement(S,null),document.getElementById("root"))}},[[16,1,2]]]);
//# sourceMappingURL=main.c92d1d56.chunk.js.map